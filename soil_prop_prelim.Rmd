---
title: "soil_prop_prelim"
author: "Sara DeLaurentis"
date: "10/30/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown
Setup: Load packages and .csv

```{r }
library(tidyverse)
library(dplyr)
library(stringr)
library(viridis)


OA_thick <- read.csv("OA_thickness_2019_20_join.csv", header=T, na.strings=c("", " ", "NA"))

as.tbl(OA_thick) #set as tibble. was having issues with coercing to a dataframe (using as.data.frame)

str(OA_thick)
head(OA_thick)

#set all data types for the dataframe

OA_thick$date %>% as.Date()
OA_thick$site %>%  as.character()
OA_thick$treatment %>%  as.character()
OA_thick$forest_type %>%  as.character()
OA_thick$inv_lvl %>% as.numeric()
OA_thick$plot %>% as.character()
OA_thick$totalO_thk %>% as.numeric()
OA_thick$Oi_thk %>% as.numeric()
OA_thick$Oe_thk %>% as.numeric()
OA_thick$Oa_thk %>% as.numeric()
OA_thick$A_thk %>% as.numeric()
OA_thick$A_type %>% as.character()
OA_thick$source %>% as.character()
OA_thick$sample_number %>% as.character()
OA_thick$bulk_density %>% as.numeric()

str(OA_thick)

```


 
```{r }


```



## Including Plots

Checking groups of data for cleanliness

```{r }
C2<- OA_thick %>% filter(treatment == "C2")
view(C2)
length(C2)

C5<- OA_thick %>% filter(treatment == "C5")
view(C5)
length(C5)

D2<- OA_thick %>% filter(treatment == "D2")
view(D2)
length(D2)

D5<- OA_thick %>% filter(treatment == "D5")
view(D5)
length(D5)




## keep this code, but I'm not going into bulk density analysis yet. This will read out the bulk density values, minus any NA values in the column.
D2.bd<- OA_thick %>% 
  filter(treatment == "D2" & !is.na(bulk_density))
view(D2.bd)

D2.bd.min <- OA_thick %>% 
  filter(treatment == "D2" & !is.na(bulk_density) & horizon != "O")
view(D2.bd.min)

```
##summarize O horizon thicknesses, by site, across 2019-2020



```{r }

O_mean_summ <-  OA_thick %>% 
  drop_na(totalO_thk) %>% 
  group_by(site) %>% 
  summarize(mean_O_thk = mean(totalO_thk), mean_A_thk = mean(A_thk))

view(O_mean_summ)

```
